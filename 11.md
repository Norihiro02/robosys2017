# ロボットシステム学2017第11回

上田 隆一

2017年11月29日@千葉工業大学

## 今日の内容

* フリーソフト、オープンソース、著作権、ライセンス
  * 背景
  * 適当に人のものを使っていませんか？
  * 怖がって使わずに効率の悪い開発をしていませんか？
  * 我々はどう付き合うべきか？
  * コピペは善なのか悪なのか？

## 大学生と著作

* ブログやGitHub等で誰でも自身の著作物を公開する機会
  * 作文、コード、ロボットのデモムービー等
  * コミュニティーや同人活動への参加
    * こういうところでは、むしろ作品を公開しないと存在しない人扱いを受けるという勢い（いいか悪いかは別）

## インターネット上での活動

* インターネットはアバウトな部分と容赦ない部分が同居
  * 著作権やライセンスへの理解がないと生きていけない
  * あからさまに違反して反省もしないと大炎上
  * 悪徳ハッカソンに著作権を取られる等、被害にも遭う
  * 自身を売り出すためにはさらに深く理解が必要

## インターネット上の著作物の流用

* ロボットを扱うときに使うオープンソース
  * ROSやOpenCV等、それらの上で動くもの
* オープンソースを使った自身の著作物やコードは公開していいの？売っていいの？
* そもそも何でオープンソースは公開されている？
  * Unixの話の時にした通り


## コードの公開

* コードを公開することによる恩恵（例: Unix）
  * 普及する
  * バグを第三者が見つけてくれる
  * 改良法を第三者が考えてくれる
* コードを公開する場合の困った点
  * 商売難しい
  * 誰のもの？
  * プログラマーの世界の外で理解が得られない
* コード公開の判断
  * <span style="color:red">工・法・商・歴史様々な視点が入り乱れる</span>

## リチャード・ストールマン（RMS）

* コードは公開されるべきという立場の急先鋒
* Emacs, GCC等の作者
  * 1971年〜MITのハッカー
  * 逸話
    * パスワードに反対して破る→メンバーにパスワードを空白にするように促す
    * コピーライトへの批判
    * アンチ携帯電話
    * 講演で座禅を組んで「フリーダム」と一言だけ
    * ASCIIに招かれた時に廊下に座ってプログラミング
    * 他、膨大な逸話

## ハッカー

* （技術的な定義は別として、文化的には）ヒッピー的な考え方を継承した腕のあるプログラマ
  * ヒッピー（1960年代〜）
    * love and peaceな人たち
      * ・・・と書くと平和そうだが、反戦、反体制、フリーダム、フリーセックス、マリファナ、LSD、ビートルズ、東洋思想、嫌儲厨な人たち
      *  <span style="color:red">（注意: いろいろ非合法）</span>
* 今も「ハッカー気質」の人は多い
  * [「技術を独占するよりも広く共有して、皆で大いに楽しみたいとする奔放さ」](https://ja.wikipedia.org/wiki/%E3%83%8F%E3%83%83%E3%82%AB%E3%83%BC%E6%96%87%E5%8C%96)
* ライセンス: ヒッピー的な考えとビジネス的な考えの妥協点

## コピーレフト

* 著作物は利用・再配布・改変できなければならない
  * （つまりフリーダムであるべき）
  * Copyleft: all rights reversed
* <span style="color:red">ただし、著作権は放棄しない</span>
  * 放棄すると他者がそれを拾って著作権を主張するようになる
  * ストールマン自身が被害に遭った経験から
* 下図: コピーレフトのマーク

<img width="300" src="./Copyleft-300x300.png" />

## GPL（GNU General Public license）

* コピーレフトの考え方をライセンス化したもの
* ストールマンの立ち上げたFSF（Free Software Foundation）が策定
* 基本的なルール
  * GPLで頒布されたプログラム（コードやバイナリ）について、ユーザは実行、再配布、改変、調査できる権利を保持
  * ただし、再頒布の際は再度GPLで頒布する義務
  * バイナリのユーザが要求した場合にコードの公開義務

<img width="300" src="./512px-GPLv3_Logo.svg.png" />

## GPLの効果

* 人のコードを持ってきた人（企業・団体）が改変部分を隠してコピーを売ることを抑制できる。
* ソフトウェアの特性を損なわない
  * 1人が作ればみんな使える。そこから改良できる。
* 具体的な例
  * Linuxのデバイスドライバのコードが隠れない
    * カーネルのデバッグ時に有益
  * LinuxがGPL→動的リンクするドライバも基本はGPL
    * GPL（と何かのデュアルライセンス）でないと警告

## LinuxとGPL

* Linuxカーネルに付属するコマンド等ソフトウェアの多くは「GNU」由来
* GNU（GNU’s not UNIX）
  * FSFで開発されているOS
  * LinuxはGNUの付属ソフトウェア（coreutils等）を使っている→GPLになる
* FSFは、LinuxはGNU/Linuxと名乗るべきと主張

## GPLの効果（？）の例

* 知らないうちにGPLのコードをちょっと使ってバイナリを配布してしまった→コード全部にGPL適用
* GPLのライセンスは連鎖していく
  * 「感染」とも
* 動的・静的にリンクしたライブラリも対象
  * GPLのコードにはGPL互換でないライブラリが使えない
  * GPLでないコードにGPLのライブラリが使えない

## LGPL（GNU lesser general public license）

* GPLでないプログラムにリンクして良いライセンス
  * 他のプログラムがGPL化しない
* 当初はGNU library general public licenseだった
  * ライブラリGPL → 劣GPL
* 主な利用例
  * GNU Cライブラリ, OpenOffice.org, ...

<img width="300" src="./512px-LGPLv3_Logo.svg.png" />

## GPLを適用する方法

* [正確な情報はこの文章から](https://www.gnu.org/licenses/gpl-howto.ja.html)
* ソフトウェアにCOPYING or LICENSEというファイル名でライセンス全文を同梱
  * Gitならリポジトリのトップディレクトリに置く
* 各ソースファイルの頭にも書くのが望ましい
  * というより書く
  * copyrightとGPL/LGPLである旨。COPYINGの場所
* 例: https://github.com/torvalds/linux

## 考えてみましょう

* ロボカップで使ったコードをGPLで配布するとどうなる？
  * 他のチームに与える影響は？
* 企業でコードが使われるだろうか？
  * 企業と共同研究できる？
* ROSやOpenCVの何かと一緒に配布できる？
* LGPLだったら？

## BSD/BSDライセンス

* BSD（Barkeley software distribution）
  * UCBで開発されたUNIXの一種（1977年〜）
  * AT&T由来のコードを含む
  * ライセンスに関する様々な問題を回避しながら開発
    * 最寄りのBSDオジサンに聞いてみよう！
* BSDライセンス
  * その名の通りBSDのためのライセンス
  * もともとGPL以前の話なので別のライセンス体系
  * 企業との悲喜こもごもの中で生まれた

## 旧BSDライセンス（4条項、廃止）

* 正式なもの
  * 要約
    1. コピーライト、ライセンス全文、免責事項の明記
    1. コードを公開せずバイナリ配布する時も1を遵守
    1. 貢献者・支援した団体等のリストを明記（宣伝条項）
    1. 貢献者の名前をソフトウェアの宣伝に勝手に使わない
* 宣伝条項がいろいろと問題
  * リスト巨大化
  * GPLのコードへBSDライセンスのコードを混ぜられない（非互換）
  * （注意: 書いた人については著作権者なので明記）
